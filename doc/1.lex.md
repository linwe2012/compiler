## 词法分析

使用Lex作为词法分析工具，词法分析见文件```lex.l```，参考了ANSI C的Lex http://www.quut.com/c/ANSI-C-grammar-l-1998.html。

### 规则声明

注释支持C风格的注释和C++风格的注释。C风格注释正则表达式为```\/\*[^*]*\*+([^/*][^*]*\*+)*\/```

```lex
c_comment	\/\*[^*]*\*+([^/*][^*]*\*+)*\/
cpp_comment	\/\/.*
comment		{c_comment}|{cpp_comment}
```

整数字面量支持八进制、十进制和十六进制。

```lex
oct_int		0[0-7]*
dec_int		0|([1-9][0-9]*)
hex_int		0[xX][0-9a-fA-F]+

any_int     {oct_int}|{dec_int}|{hex_int}
float		{dec_int}"."[0-9]*
```

标识符的定义和C语言相同，即以大小写字符和下划线开头，后面接大小写字符、下划线或数字。

```lex
identifier	[a-zA-Z_][a-zA-Z0-9_]*
```

### 模式匹配

词法分析代码识别所有关键字(如```int```, ```static```)和多字符的操作符(如```+=```, ```==```)并以整数(枚举)方式返回给语法分析器；

识别所有字面量(整数字面量、浮点字面量和字符串字面量)，返回字面量的类型，并且同时拷贝字面量的字符串表示给词法分析器；

对于注释和空白字符，直接丢弃不做处理；

对于其他字符，直接返回这个字符给词法分析器。

```lex
.               { return yytext[0]; }
```